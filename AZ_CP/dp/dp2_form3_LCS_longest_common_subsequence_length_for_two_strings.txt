#include<bits/stdc++.h>
using namespace std;

String a,b;
int dp[1001][1001];

int rec(int i, int j) {//return the length of LCS of a[i...n-1] and b[j...m-1]
	//pruning
	//na
	
	//base case
	if (i>=n || j>=m) return 0;
	
	//cache check
	if (dp[i][j] != -1) return dp[i][j];
	
	//transition compute
	int ans = 0;
	ans = max(ans, rec(i+1, j))
	ans = max(ans, rec(i, j+1));
	if (a[i] == b[j]) {
		ans = max(ans, 1+rec(i+1, j+1))
	}
	
	return dp[i][j] = ans;
}

void solve () {
	cin>>n>>m;
	cin>>a>>b;
	
	memset(dp, -1, sizeof(dp));
	cout<<rec(0, 0)<<endl;
}

int main () {
	solve();
	return 0;
}
